# ğŸ‡«ğŸ‡·ğŸ‡°ğŸ‡· ë§Œêµ­ë°•ëŒíšŒ

## ğŸ€ ì†Œê°œ
`Dasan`ê³¼ `EtialMoon`ì´ ë§Œë“  ë§Œêµ­ë°•ëŒíšŒ ì•±ì…ë‹ˆë‹¤. ì´ ì•±ì€ 1990 ë§Œêµ­ë°•ëŒíšŒì— ì¶œí’ˆëœ í•œêµ­ì˜ ì¶œí’ˆì‘ë“¤ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

## ğŸ“– ëª©ì°¨
1. [íŒ€ì›](#-íŒ€ì›)
2. [íƒ€ì„ë¼ì¸](#-íƒ€ì„ë¼ì¸)
3. [ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°](#-ì‹œê°í™”ëœ-í”„ë¡œì íŠ¸-êµ¬ì¡°)
4. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
5. [ì°¸ê³  ë§í¬](#-ì°¸ê³ -ë§í¬)

<br>

## ğŸ‘¨â€ğŸ’» íŒ€ì›
| Dasan | EtialMoon |
| :------: | :------: |
|<Img src="https://i.imgur.com/EU67fox.jpg" width="200"> |<img src="https://i.imgur.com/hSdYobS.jpg" width="200"> |
|[Github Profile](https://github.com/DasanKim) |[Github Profile](https://github.com/hojun-jo)

<br>

## â° íƒ€ì„ë¼ì¸
|ë‚ ì§œ|ë‚´ìš©|
|:--:|--|
|2023.06.26.(ì›”)| - `JSON` í¬ë©§ì˜ ë°ì´í„°ì™€ ë§¤ì¹­ë˜ëŠ” `Entry` íƒ€ì… êµ¬í˜„ <br> - `JSON` í¬ë©§ì˜ ë°ì´í„°ì™€ ë§¤ì¹­ë˜ëŠ” `Introduction` íƒ€ì… êµ¬í˜„ |
|2023.06.27.(í™”)| - `MainViewController`ì— í•„ìš”í•œ View ìƒì„± ë° ë„¤ì´ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì´ìš©í•œ `í™”ë©´ì „í™˜` ì¶”ê°€ <br> - `MainViewController`ì˜ `Label`ë“¤ì— `JSON` ë°ì´í„° ì—°ê²° <br> - customí•œ `EntryTableViewCell` ì¶”ê°€<br> - `EntryListViewController`ì˜ `Label`ë“¤ì— `JSON` ë°ì´í„° ì—°ê²°|
|2023.06.28.(ìˆ˜)| - ë ˆì´ë¸” ë‚´ ë¬¸ìì—´ ìˆ˜ì • ë° í•˜ìœ„ í•­ëª© ë ˆì´ë¸” ì¶”ê°€<br> -`EntryTableViewCell`ì— `accessory` ì¶”ê°€ <br> - ìŠ¤í† ë¦¬ë³´ë“œì— ì¶œí’ˆì‘ ìƒì„¸í™”ë©´ ì¶”ê°€ <br> - `EntryDetailViewController` ì¶”ê°€ ë° `í™”ë©´ì „í™˜` êµ¬í˜„ | 
|2023.06.29.(ëª©)| - ì „ì²´ì ì¸ ë¦¬í™í† ë§ ì§„í–‰ |
|2023.06.30.(ê¸ˆ)| - README ì‘ì„± <br> - í”¼ë“œë°± ìš”ì²­ì‚¬í•­ ë°˜ì˜ ë° ì „ì²´ì ì¸ ë¦¬í™í† ë§ ì§„í–‰ |

<br>

## ğŸ‘€ ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°

### Class Diagram
<p>
<img width="800" src="https://github.com/DasanKim/ios-exposition-universelle/assets/106504779/e17c106a-a026-496a-9494-1340c9bb96e0">
</p>

</br>

## ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1ï¸âƒ£ navigationBar.isHidden

âš ï¸ **ë¬¸ì œì ** <br>
- í¬ìŠ¤í„°ì™€ ê°ì¢… ì„¤ëª…ì„ í‘œì‹œí•˜ëŠ” `ì²«ë²ˆì§¸ í™”ë©´`ì€ `navigation bar`ê°€ ì—†ì–´ì•¼í–ˆì§€ë§Œ, ë‚˜ë¨¸ì§€ `ì¶œí’ˆì‘ ëª©ë¡`ê³¼ `ì¶œí’ˆì‘ ìƒì„¸í™”ë©´`ì€ `navigation bar`ê°€ ìˆì–´, `BackButton`ì„ í†µí•´ ì•/ë’¤ í™”ë©´ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆì–´ì•¼í–ˆìŠµë‹ˆë‹¤.

âœ… **í•´ê²°ë°©ë²•** <br>
- ì²«ë²ˆì§¸ í™”ë©´ì—ì„œ `navigationBar`ì˜ `isHidden` í”„ë¡œí¼í‹°ì— `true`ê°’ì„ ì£¼ì–´ `navigationBar`ê°€ ë³´ì´ì§€ ì•Šë„ë¡ í•˜ì˜€ê³ , ë‘ë²ˆì§¸ í™”ë©´(ì¶œí’ˆì‘ ëª©ë¡)ì—ì„œëŠ” `false`ê°’ì„ ì£¼ì–´ `navigationBar`ê°€ ë³´ì´ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```swift
    // MainViewController.swift
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        
        navigationController?.navigationBar.isHidden = true
    }
    ```
- ë‘ë²ˆì§¸ í™”ë©´(ì¶œí’ˆì‘ ëª©ë¡)->ì²«ë²ˆì§¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ì˜¬ ë•Œ ë‹¤ì‹œ `navigation bar`ê°€ ë³´ì´ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•˜ì—¬, `viewWillAppear` ë©”ì„œë“œì—ì„œ `isHidden` ê°’ì„ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```swift
    // EntryListViewController.swift
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        
        navigationController?.navigationBar.isHidden = false
        navigationItem.title = "í•œêµ­ì˜ ì¶œí’ˆì‘"
    }
    ```

<br>

### 2ï¸âƒ£ scroll edge

âš ï¸ **ë¬¸ì œì ** <br>
- ì²˜ìŒ ë§Œë“¤ì–´ì§„ `navigationBar`ëŠ” `view`ì™€ **ê°™ì€ ìƒ‰**ì´ì—ˆìŠµë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì„ í•˜ì—¬ ì»¨í…ì¸ ê°€ `navigationBar`ê°€ `ìœ„`ë¡œ ì˜¬ë¼ê°”ì„ ë•Œì—ë§Œ `navigationBar`ì˜ ìƒ‰ê¹”ì´ ë³€í•˜ì˜€ìŠµë‹ˆë‹¤.

âœ… **í•´ê²°ë°©ë²•** <br>
- **ìŠ¤í¬ë¡¤ì„ í•˜ì§€ ì•Šì•˜ì„ ë•Œì—ë„** `navigationBar`ì™€ `view`ê°€ ìƒ‰ìœ¼ë¡œ `êµ¬ë¶„`ì´ ë˜ì–´ìˆì—ˆê¸° ë•Œë¬¸ì—, [scroll edge appearances](https://developer.apple.com/documentation/uikit/uinavigationbar/3198027-scrolledgeappearance)ë¥¼ ì´ìš©í•˜ì—¬ `navigationBar`ì™€ `view`ë¥¼ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤.

  > When a navigation controller contains a navigation bar and a scroll view, part of the scroll viewâ€™s content appears underneath the navigation bar. If the edge of the scrolled content reaches that bar, UIKit applies the appearance settings in this property.
<br>

### 3ï¸âƒ£ BackBarButtonItem

âš ï¸ **ë¬¸ì œì ** <br>
- ì²«ë²ˆì§¸ í™”ë©´ì— `navigationBar`ê°€ ì—†ë‹¤ë³´ë‹ˆ ë‘ë²ˆì§¸ í™”ë©´(ì¶œí’ˆì‘ ëª©ë¡)ì˜ back button titleì´ "Back"ìœ¼ë¡œ ì„¤ì •ë˜ëŠ” ê²ƒì„ ë³´ì•˜ìŠµë‹ˆë‹¤.
  - ë³´í†µ `navigationBar`ì— ìˆëŠ” back buttonì˜ titleì€ ì´ì „ í™”ë©´ì˜ titleê°’ì„ ê°–ëŠ”ë°, titleì´ ì—†ëŠ” ê²½ìš° [backButtonDisplayMode](https://developer.apple.com/documentation/uikit/uinavigationitem/3656350-backbuttondisplaymode)ì— ë”°ë¼ back buttonì˜ titleë¥¼ ì •í•´ì¤€ë‹¤ê³  í•©ë‹ˆë‹¤.

âœ… **í•´ê²°ë°©ë²•** <br>
- "ë©”ì¸"ì´ë¼ëŠ” titleë¡œ ì„¤ì •í•˜ê³  ì‹¶ì—ˆëŠ”ë°, ì´ë¥¼ ìœ„í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì»¤ìŠ¤í…€í•œ bar button itemë¥¼ ë§Œë“¤ì–´ í• ë‹¹í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
    ```swift
    // MainViewController.swift
    @IBAction func touchUpGoToEntryListButton(_ sender: UIButton) {
        (...)
        navigationItem.backBarButtonItem = createMainBackBarButtonItem()
        (...)
    }

    private func createMainBackBarButtonItem() -> UIBarButtonItem {
        let backBarButtonTitle = "ë©”ì¸"
        let backBarButtonItem = UIBarButtonItem(title: backBarButtonTitle, style: .plain, target: self, action: nil)

        return backBarButtonItem
    }
    ```
<br>

### 4ï¸âƒ£ [ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì½”ë“œ](https://en.wikipedia.org/wiki/Boilerplate_code)ë¥¼ ì¤„ì´ê¸° ìœ„í•œ íƒ€ì… ì¶”ê°€

âš ï¸ **ë¬¸ì œì ** <br>
- ê¸°ì¡´ ì½”ë“œì—ì„œëŠ” `MainViewController`ì™€ `EntryListViewController`ì—ì„œ **ì§ì ‘** json íŒŒì¼ì„ decodeí•˜ì˜€ìŠµë‹ˆë‹¤. ë‘ ê°œì˜ ViewControllerëŠ” decodeí•˜ëŠ” í•¨ìˆ˜ ë¶€ë¶„ì´ `dataAsset ì´ë¦„`ê³¼ `data íƒ€ì…`ë§Œ ë‹¤ë¥´ê³  í•˜ëŠ” ì—­í•  ë° ì½”ë“œê°€ ê°™ì•˜ìŠµë‹ˆë‹¤.
- Before
    ```swift 
    // MainViewController.swift
    private func decodeIntroduction() {
        let decoder = JSONDecoder()
        
        guard let dataAsset: NSDataAsset = NSDataAsset(name: "exposition_universelle_1900") else {
            return
        }
        
        do {
            introduction = try decoder.decode(Introduction.self, from: dataAsset.data)
        } catch {
            print(error)
        }
    }
    ```

âœ… **í•´ê²°ë°©ë²•** <br>
- ë³€í™”ì—†ì´ ì—¬ëŸ¬ êµ°ë°ì—ì„œ ë°˜ë³µë˜ëŠ” ì½”ë“œì¸ `ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì½”ë“œ`ë¼ê³  íŒë‹¨í•˜ì—¬ ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ `Model`ì— `Decoder` íƒ€ì…ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.
- After
    ```swift
    // Decoder.swift
    struct Decoder<T: Decodable> {
        static func decodeJSON(_ dataAssetName: String) throws -> T {
            let decoder = JSONDecoder()

            guard let dataAsset: NSDataAsset = NSDataAsset(name: dataAssetName) else {
                throw DecoderError.notFoundAsset
            }

            return try decoder.decode(T.self, from: dataAsset.data)
        }
    }
    ```

<br>

### 5ï¸âƒ£ ì˜ì¡´ì„± ì£¼ì…

âš ï¸ **ë¬¸ì œì ** <br>
- ê¸°ì¡´ì—ëŠ” `EntryListViewController`ì—ì„œ `EntryTableViewCell`, `EntryDetailViewController`ì— ì§ì ‘ ì ‘ê·¼í•˜ì—¬ í”„ë¡œí¼í‹°ì— ê°’ì„ ë„£ì—ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ì§ì ‘ ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ê°ì²´ ê°„ì˜ ê²°í•©ë„ê°€ ë†’ì•„ì§€ê²Œ ë©ë‹ˆë‹¤.
- Before
    ```swift
    // EntryListViewController.swift
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        let storyboardName = "Main"
        let storyboardId = "EntryDetailViewController"
        let storyboard = UIStoryboard(name: storyboardName, bundle: Bundle.main)
        let viewController = storyboard.instantiateViewController(withIdentifier: storyboardId)
        
        guard let entryDetailViewController = viewController as? EntryDetailViewController else {
            return
        }
        
        if let entryList {
            entryDetailViewController.entryName = entryList[indexPath.row].name
            entryDetailViewController.entryImageName = entryList[indexPath.row].imageName
            entryDetailViewController.descriptionText = entryList[indexPath.row].description
        }
        
        navigationController?.pushViewController(entryDetailViewController, animated: true)
    }
    ```

âœ… **í•´ê²°ë°©ë²•** <br>
- ê²°í•©ë„ê°€ ë†’ì„ ê²½ìš° `EntryTableViewCell`, `EntryDetailViewController`ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•  ê²½ìš° `EntryListViewController`ê¹Œì§€ ì˜í–¥ì„ ë°›ì„ ê°€ëŠ¥ì„±ì´ ìˆê¸° ë•Œë¬¸ì— ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- After
    ```swift
    // EntryListViewController.swift
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        let storyboardName = "Main"
        let storyboardId = "EntryDetailViewController"
        let storyboard = UIStoryboard(name: storyboardName, bundle: Bundle.main)
        
        if let entryList {
            let entryDetailViewController = storyboard.instantiateViewController(identifier: storyboardId) { coder in
                EntryDetailViewController(entry: entryList[indexPath.row], coder: coder)
            }
            
            navigationController?.pushViewController(entryDetailViewController, animated: true)
        }
    }
    ```
<br>

## ğŸ“š ì°¸ê³  ë§í¬

- [ğŸApple Docs: JSONDecoder](https://developer.apple.com/documentation/foundation/jsondecoder)
- [ğŸApple Docs: Using JSON with Custom Types](https://developer.apple.com/documentation/foundation/archives_and_serialization/using_json_with_custom_types)
- [ğŸApple Docs: scrollEdgeAppearance](https://developer.apple.com/documentation/uikit/uinavigationbar/3198027-scrolledgeappearance)
- [ğŸApple Docs: backBarButtonItem](https://developer.apple.com/documentation/uikit/uinavigationitem/1624958-backbarbuttonitem)
- [ğŸApple Docs: init(coder:)](https://developer.apple.com/documentation/foundation/nscoding/1416145-init)
- [ğŸŒBlog: init(coder:)](https://babbab2.tistory.com/171)
- [ğŸŒboostcourse: JSON ë‹¤ë£¨ê¸°](https://www.boostcourse.org/mo326/lecture/20146)

<br>
